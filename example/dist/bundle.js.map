{"version":3,"file":"bundle.js","sources":["../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/components/root/index.tsx","../../node_modules/dnd-core/dist/esm/interfaces.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/redux/es/redux.js","../../node_modules/@react-dnd/invariant/dist/invariant.esm.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../../node_modules/dnd-core/dist/esm/utils/js_utils.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../../node_modules/dnd-core/dist/esm/utils/matchesType.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../../node_modules/dnd-core/dist/esm/utils/equality.js","../../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../../node_modules/dnd-core/dist/esm/actions/registry.js","../../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../../node_modules/dnd-core/dist/esm/reducers/refCount.js","../../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../../node_modules/dnd-core/dist/esm/reducers/stateId.js","../../node_modules/dnd-core/dist/esm/reducers/index.js","../../node_modules/dnd-core/dist/esm/utils/coords.js","../../node_modules/dnd-core/dist/esm/DragDropMonitorImpl.js","../../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../../node_modules/dnd-core/dist/esm/contracts.js","../../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../../node_modules/dnd-core/dist/esm/HandlerRegistryImpl.js","../../node_modules/dnd-core/dist/esm/DragDropManagerImpl.js","../../node_modules/dnd-core/dist/esm/factories.js","../../node_modules/react-dnd/dist/esm/common/DndContext.js","../../node_modules/react-dnd/dist/esm/common/DndProvider.js","../../node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js","../../node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js","../../node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js","../../node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","../../node_modules/react-dnd/dist/esm/common/registration.js","../../node_modules/react-dnd/dist/esm/hooks/internal/useDragDropManager.js","../../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","../../node_modules/react-dnd/dist/esm/utils/isRef.js","../../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../../node_modules/react-dnd/dist/esm/hooks/internal/drag.js","../../node_modules/react-dnd/dist/esm/hooks/useDrag.js","../../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../../node_modules/react-dnd/dist/esm/hooks/internal/drop.js","../../node_modules/react-dnd/dist/esm/hooks/useDrop.js","../../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../../node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js","../../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../src/packages/dnd/index.ts","../../src/components/provider/index.tsx","../../src/lib/uuid.ts","../../src/eventMonitor/index.ts","../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/hooks/useListener.ts","../../src/hooks/useMount.ts","../../src/components/wrapperComp/captureDom.tsx","../../src/lib/itemTypes.ts","../../src/components/wrapperComp/draggable.tsx","../../src/components/wrapperComp/memo.tsx","../../src/components/wrapperComp/mouseEventCollect.tsx","../../src/lib/renderTree.tsx","../../node_modules/immer/dist/immer.module.js","../../src/store/reducer.ts","../../src/store/state.ts","../../src/packages/typeRedux/applyMiddleware.ts","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../src/packages/typeRedux/createStore.ts","../../src/packages/typeRedux/shallowEqual.ts","../../src/packages/typeRedux/hook.ts","../../src/components/canvas/index.tsx","../../src/components/feature/index.tsx","../src/app/index.tsx","../src/index.ts"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import * as React from 'react';\n\nexport const RootCompId = 'root';\nexport const RootFtrId = 'root';\n\nexport function Root(props: React.Props<any>) {\n  return <div style={{ width: '100%', height: '100%' }}>{props.children}</div>;\n}\n","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nexport { invariant };\n//# sourceMappingURL=invariant.esm.js.map\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    return map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport default function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport default function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export default function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport matchesType from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport default function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport default function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread({}, options, {}, dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport default function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n    var source = registry.getSource(sourceId, true);\n    source.endDrag(monitor, sourceId);\n    registry.unpinSource();\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","import createBeginDrag from './beginDrag';\nimport createPublishDragSource from './publishDragSource';\nimport createHover from './hover';\nimport createDrop from './drop';\nimport createEndDrag from './endDrag';\nexport * from './types';\nexport default function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport default function dragOffset() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport default function dragOperation() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread({}, state, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread({}, state, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread({}, state, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread({}, state, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport default function refCount() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport default function dirtyHandlerIds() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export default function stateId() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dragOffset from './dragOffset';\nimport dragOperation from './dragOperation';\nimport refCount from './refCount';\nimport dirtyHandlerIds from './dirtyHandlerIds';\nimport stateId from './stateId';\nimport { get } from '../utils/js_utils';\nexport default function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread({}, action.payload, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport matchesType from './utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from './utils/coords';\nimport { areDirty } from './utils/dirtiness';\n\nvar DragDropMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, 'Expected to find a valid target.');\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.store.getState().dragOperation.isSourcePublic;\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nexport { DragDropMonitorImpl as default };","var nextUniqueId = 0;\nexport default function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from './actions/registry';\nimport getNextUniqueId from './utils/getNextUniqueId';\nimport { HandlerRole } from './interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from './contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl =\n/*#__PURE__*/\nfunction () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nexport { HandlerRegistryImpl as default };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createStore } from 'redux';\nimport reducer from './reducers';\nimport dragDropActions from './actions/dragDrop';\nimport DragDropMonitorImpl from './DragDropMonitorImpl';\nimport HandlerRegistryImpl from './HandlerRegistryImpl';\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reducer, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar DragDropManagerImpl =\n/*#__PURE__*/\nfunction () {\n  function DragDropManagerImpl() {\n    var _this = this;\n\n    var debugMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    var store = makeStoreInstance(debugMode);\n    this.store = store;\n    this.monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = dragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n\nexport { DragDropManagerImpl as default };","import DragDropManagerImpl from './DragDropManagerImpl';\nexport function createDragDropManager(backendFactory, globalContext, backendOptions, debugMode) {\n  var manager = new DragDropManagerImpl(debugMode);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}","import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { shallowEqual };\n//# sourceMappingURL=shallowequal.esm.js.map\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../../common/DndContext';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector =\n/*#__PURE__*/\nfunction () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector =\n/*#__PURE__*/\nfunction () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\n\nvar EnterLeaveCounter =\n/*#__PURE__*/\nfunction () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nexport { EnterLeaveCounter as default };","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MonotonicInterpolant =\n/*#__PURE__*/\nfunction () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nexport { MonotonicInterpolant as default };","import { isSafari, isFirefox } from './BrowserDetector';\nimport MonotonicInterpolant from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource =\n/*#__PURE__*/\nfunction () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","import HTML5Backend from './HTML5Backend';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\n\nvar createBackend = function createBackend(manager, context) {\n  return new HTML5Backend(manager, context);\n};\n\nexport default createBackend;","import * as React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport backend from 'react-dnd-html5-backend';\n\nexport { DragElementWrapper, DragSourceOptions, useDrag, useDrop } from 'react-dnd';\n\nexport function Provider(props: React.Props<any>) {\n  return React.createElement(DndProvider, {\n    backend\n  }, props.children);\n}\n","import { Root, RootCompId } from '@/components/root';\nimport { Provider } from 'dnd';\nimport React from 'react';\n\nexport const Context = React.createContext({\n  id2CompMap: {} as IGrag.IId2CompMap\n});\n\nexport function GragProvider(props: React.Props<any>) {\n  const id2CompMap = React.useRef({ [RootCompId]: Root } as IGrag.IId2CompMap);\n  return (\n    <Context.Provider value={{ id2CompMap: id2CompMap.current }}>\n      <Provider >\n        {props.children}\n      </Provider>\n    </Context.Provider>\n  );\n}\n","export function uuid() {\n  return 'uuid' + Math.ceil((Math.random() * 100000)) + Math.ceil((Math.random() * 100000));\n}\n","import { uuid } from '@/lib/uuid';\nimport { IDispatch } from '@/store';\n\ninterface IEventMap {\n  canvasMousemove: any;\n  ftrDrop: {\n    compId: string;\n    parentFtrId: string;\n  };\n  ftrHover: {\n    targetFtrId: string;\n  };\n}\n\nexport type IEvtEmit = EventMonitor['emit'];\n\nexport class EventMonitor implements IGrag.IMap2Func<IEventMap>  {\n  constructor(private dispatch: IDispatch) {\n    this.emit = this.emit.bind(this);\n  }\n\n  public emit<T extends keyof IEventMap>(evtName: T, params: IEventMap[T]) {\n    this[evtName](params);\n  }\n\n  public canvasMousemove() {\n    //\n  }\n\n  public ftrDrop(param: IEventMap['ftrDrop']) {\n    this.dispatch('insertFtr', {\n      ...param,\n      ftrId: uuid()\n    });\n  }\n\n  public ftrHover(param: IEventMap['ftrHover']) {\n    this.dispatch('updateEnterFtr', param.targetFtrId);\n  }\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","import * as React from 'react';\n\ntype IFunc = (...params: any[]) => any;\n\nexport function useListener(lis: IFunc[] = []) {\n  const listeners: React.MutableRefObject<IFunc[]> = React.useRef(lis);\n  const subscribe = React.useCallback((cb: (...params: any[]) => any) => {\n    listeners.current.push(cb);\n    return function unSubscribe() {\n      const idx = listeners.current.findIndex((listener) => listener === cb);\n      if (idx >= 0) {\n        listeners.current.splice(idx, 1);\n      }\n    };\n  }, [listeners]);\n\n  const notify = React.useCallback((...params: any[]) => {\n    const cbs = [...listeners.current];\n    cbs.forEach((cb) => {\n      cb(...params);\n    });\n  }, [listeners]);\n\n  React.useEffect(() => {\n    return () => {\n      listeners.current = [];\n    };\n  }, []);\n\n  return [subscribe, notify] as [typeof subscribe, typeof notify];\n}\n","import * as React from 'react';\n\ntype EffectCallback = () => (void | (() => void | undefined));\n\nexport function useMount(mount: EffectCallback) {\n  React.useLayoutEffect(mount, []);\n}\n","import { useListener } from '@/hooks/useListener';\nimport { useMount } from '@/hooks/useMount';\nimport { IFtrCtx } from '@/lib/renderTree';\nimport * as React from 'react';\n\nexport type IRegiserDom = (cb: (dom: HTMLElement, idx: number) => void) => () => void;\nexport type IRegiserParentMount = (cb: (mount: boolean) => void) => () => void;\nexport interface ICaptureDomParams {\n  registerChildDom: IRegiserDom;\n  registerParentMount: IRegiserParentMount;\n  parentIsMount: boolean;\n}\n\nexport interface ICaptureDomProps extends React.Props<any>, IFtrCtx {\n  idx: number;\n  registerDom: IRegiserDom;\n  registerParentMount: IRegiserParentMount;\n  parentIsMount: boolean;\n  children: (params: ICaptureDomParams) => React.ReactElement;\n}\n\nexport function CaptureDom(props: ICaptureDomProps) {\n  const [parentIsMount, setParentIsMount] = React.useState(props.parentIsMount);\n  const domRef: React.MutableRefObject<HTMLElement | null> = React.useRef(null);\n  const [registerChildDom, childDomReady] = useListener();\n  const [registerMyDomMount, myDomMount] = useListener();\n\n  const observer = React.useRef(new MutationObserver((records) => {\n    records.forEach(({ addedNodes }) => {\n      const ch = addedNodes[0];\n      const idx = Array.prototype.indexOf.call(domRef.current?.children, ch);\n      childDomReady(ch, idx);\n    });\n  }));\n\n  useMount(() => {\n    // 注册本节点dom挂载事件\n    const unSubscribe = props.registerDom((dom, idx) => {\n      if (!domRef.current && idx === props.idx) {\n        domRef.current = dom;\n        // 监听本节点子节点的新增删除事件\n        observer.current.observe(domRef.current, {\n          childList: true\n        });\n        // 解除监听\n        unSubscribe();\n        // 本节点dom挂载完成\n        myDomMount(dom);\n      }\n    });\n    return () => {\n      unSubscribe();\n      observer.current.disconnect();\n    };\n  });\n\n  useMount(() => {\n    // 注册父亲节点dom挂载事件\n    const unSubscribe = props.registerParentMount(() => {\n      unSubscribe();\n      setParentIsMount(true);\n    });\n    return unSubscribe;\n  });\n\n  return parentIsMount ? props.children({\n    registerChildDom,\n    parentIsMount: !!domRef.current,\n    registerParentMount: registerMyDomMount\n  }) : null;\n}\n","export const ItemTypes = {\n  CANVAS: 'canvas'\n};\n","import { IDragItem } from '@/components/feature';\nimport { ItemTypes } from '@/lib/itemTypes';\nimport { IFtrCtx } from '@/lib/renderTree';\nimport { useDrop } from 'dnd';\nimport * as React from 'react';\nimport { IRegiserDom } from './captureDom';\n\ninterface IDropableProps extends React.Props<any>, IFtrCtx {\n  registerDom: IRegiserDom;\n  ftrId: string;\n  idx: number;\n}\n\nexport function Dropable(props: IDropableProps) {\n  const domRef: React.MutableRefObject<HTMLElement | null> = React.useRef(null);\n  const [, drop] = useDrop({\n    accept: ItemTypes.CANVAS,\n    drop(item: IDragItem, monitor) {\n      if (monitor.didDrop()) {\n        return;\n      }\n      props.evtEmit('ftrDrop', { compId: item.compId, parentFtrId: props.ftrId });\n    },\n    hover(_item: IDragItem, monitor) {\n      if (!monitor.isOver({ shallow: true })) {\n        return;\n      }\n      props.evtEmit('ftrHover', {\n        targetFtrId: props.ftrId\n      });\n    }\n  });\n\n  React.useEffect(() => {\n    const unSubscribe = props.registerDom((dom, idx) => {\n      if (!domRef.current && idx === props.idx) {\n        domRef.current = dom;\n        drop(dom);\n        unSubscribe();\n      }\n    });\n  }, [props.registerDom]);\n\n  return props.children as React.ReactElement;\n}\n","import * as React from 'react';\n\ninterface IMemoProps {\n  children: React.ReactElement;\n  'x-children': IGrag.INode[];\n}\n\nexport const Memo = React.memo(\n  (props: IMemoProps) => props.children,\n  (pre, next) => pre['x-children'].length === next['x-children'].length\n);\n","import { useMount } from '@/hooks/useMount';\nimport { IFtrCtx } from '@/lib/renderTree';\nimport * as React from 'react';\nimport { IRegiserDom } from './captureDom';\n\ninterface IDropableProps extends React.Props<any>, IFtrCtx {\n  registerDom: IRegiserDom;\n  idx: number;\n}\n\nexport function MouseEventCollect(props: IDropableProps) {\n  const domRef: React.MutableRefObject<HTMLElement | null> = React.useRef(null);\n\n  useMount(() => {\n    function handleClick(e: Event) {\n      e.stopPropagation();\n    }\n\n    const unSubscribe = props.registerDom((dom, idx) => {\n      if (!domRef.current && props.idx === idx) {\n        domRef.current = dom;\n        dom.addEventListener('click', handleClick);\n        unSubscribe();\n      }\n    });\n    return () => {\n      domRef.current?.removeEventListener('click', handleClick);\n    };\n  });\n  return props.children as React.ReactElement;\n}\n","import { CaptureDom, ICaptureDomParams } from '@/components/wrapperComp/captureDom';\nimport { Dropable } from '@/components/wrapperComp/draggable';\nimport { Memo } from '@/components/wrapperComp/memo';\nimport { MouseEventCollect } from '@/components/wrapperComp/mouseEventCollect';\nimport { IEvtEmit } from '@/eventMonitor';\nimport { IUseMappedState } from '@/store';\nimport * as React from 'react';\n\nexport interface IFtrCtx {\n  evtEmit: IEvtEmit;\n  useMappedState: IUseMappedState;\n}\n\ninterface IParams extends ICaptureDomParams {\n  idx: number;\n}\n\ninterface IRenderTreeProps {\n  root: IGrag.INode | null;\n  id2CompMap: IGrag.IId2CompMap;\n  ftrCtx: IFtrCtx;\n  captureDomParams: IParams;\n}\n\nexport function renderTree(renderTreeparams: IRenderTreeProps) {\n  const { id2CompMap, root, ftrCtx, captureDomParams } = renderTreeparams;\n  return renderNode(root, captureDomParams);\n\n  function renderNode(node: IGrag.INode | null, params: IParams) {\n    if (node === null) {\n      return null;\n    }\n    const { compId, children, ftrId } = node;\n    const Comp = id2CompMap[compId];\n    return (\n      <Memo key={ftrId} x-children={children}>\n        <MouseEventCollect {...ftrCtx} idx={params.idx} registerDom={params.registerChildDom}>\n          <Dropable {...ftrCtx} ftrId={ftrId} idx={params.idx} registerDom={params.registerChildDom}>\n            <CaptureDom\n              {...ftrCtx}\n              idx={params.idx}\n              parentIsMount={params.parentIsMount}\n              registerParentMount={params.registerParentMount}\n              registerDom={params.registerChildDom}\n            >\n              {\n                ({ registerChildDom, registerParentMount, parentIsMount }) => (\n                  <Comp>\n                    {\n                      children.length ?\n                        children.map((child, idx) => renderNode(child, { registerChildDom, idx, registerParentMount, parentIsMount }))\n                        : null\n                    }\n                  </Comp>\n                )\n              }\n            </CaptureDom>\n          </Dropable>\n        </MouseEventCollect>\n      </Memo>\n    );\n  }\n}\n","// Should be no imports here!\nvar _a; // SOme things that should be evaluated before all else...\n\n\nvar hasSymbol = typeof Symbol !== \"undefined\";\nvar hasMap = typeof Map !== \"undefined\";\nvar hasSet = typeof Set !== \"undefined\";\n/**\r\n * The sentinel value returned by producers to replace the draft with undefined.\r\n */\n\nvar NOTHING = hasSymbol ? Symbol(\"immer-nothing\") : (_a = {}, _a[\"immer-nothing\"] = true, _a);\n/**\r\n * To let Immer treat your class instances as plain immutable objects\r\n * (albeit with a custom prototype), you must define either an instance property\r\n * or a static property on each of your custom classes.\r\n *\r\n * Otherwise, your class instance will never be drafted, which means it won't be\r\n * safe to mutate in a produce callback.\r\n */\n\nvar DRAFTABLE = hasSymbol ? Symbol(\"immer-draftable\") : \"__$immer_draftable\";\nvar DRAFT_STATE = hasSymbol ? Symbol(\"immer-state\") : \"__$immer_state\";\nvar iteratorSymbol = hasSymbol ? Symbol.iterator : \"@@iterator\";\n\n/* istanbul ignore next */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) { if (b.hasOwnProperty(p)) { d[p] = b[p]; } }\n  };\n\n  return extendStatics(d, b);\n}; // Ugly hack to resolve #502 and inherit built in Map / Set\n\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = ( // @ts-ignore\n  __.prototype = b.prototype, new __());\n}\n\nvar Archtype;\n\n(function (Archtype) {\n  Archtype[Archtype[\"Object\"] = 0] = \"Object\";\n  Archtype[Archtype[\"Array\"] = 1] = \"Array\";\n  Archtype[Archtype[\"Map\"] = 2] = \"Map\";\n  Archtype[Archtype[\"Set\"] = 3] = \"Set\";\n})(Archtype || (Archtype = {}));\n\nvar ProxyType;\n\n(function (ProxyType) {\n  ProxyType[ProxyType[\"ProxyObject\"] = 0] = \"ProxyObject\";\n  ProxyType[ProxyType[\"ProxyArray\"] = 1] = \"ProxyArray\";\n  ProxyType[ProxyType[\"ES5Object\"] = 2] = \"ES5Object\";\n  ProxyType[ProxyType[\"ES5Array\"] = 3] = \"ES5Array\";\n  ProxyType[ProxyType[\"Map\"] = 4] = \"Map\";\n  ProxyType[ProxyType[\"Set\"] = 5] = \"Set\";\n})(ProxyType || (ProxyType = {}));\n\n/** Returns true if the given value is an Immer draft */\n\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\n/** Returns true if the given value can be drafted by Immer */\n\nfunction isDraftable(value) {\n  if (!value) { return false; }\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE] || isMap(value) || isSet(value);\n}\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\") { return false; }\n  var proto = Object.getPrototypeOf(value);\n  return !proto || proto === Object.prototype;\n}\nfunction original(value) {\n  if (value && value[DRAFT_STATE]) {\n    return value[DRAFT_STATE].base;\n  } // otherwise return undefined\n\n}\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) {\n  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n} :\n/* istanbul ignore next */\nObject.getOwnPropertyNames;\nfunction each(obj, iter) {\n  if (getArchtype(obj) === Archtype.Object) {\n    ownKeys(obj).forEach(function (key) {\n      return iter(key, obj[key], obj);\n    });\n  } else {\n    obj.forEach(function (entry, index) {\n      return iter(index, entry, obj);\n    });\n  }\n}\nfunction isEnumerable(base, prop) {\n  var desc = Object.getOwnPropertyDescriptor(base, prop);\n  return desc && desc.enumerable ? true : false;\n}\nfunction getArchtype(thing) {\n  /* istanbul ignore next */\n  if (!thing) { die(); }\n\n  if (thing[DRAFT_STATE]) {\n    switch (thing[DRAFT_STATE].type) {\n      case ProxyType.ES5Object:\n      case ProxyType.ProxyObject:\n        return Archtype.Object;\n\n      case ProxyType.ES5Array:\n      case ProxyType.ProxyArray:\n        return Archtype.Array;\n\n      case ProxyType.Map:\n        return Archtype.Map;\n\n      case ProxyType.Set:\n        return Archtype.Set;\n    }\n  }\n\n  return Array.isArray(thing) ? Archtype.Array : isMap(thing) ? Archtype.Map : isSet(thing) ? Archtype.Set : Archtype.Object;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === Archtype.Map ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  // @ts-ignore\n  return getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  switch (getArchtype(thing)) {\n    case Archtype.Map:\n      thing.set(propOrOldValue, value);\n      break;\n\n    case Archtype.Set:\n      thing.delete(propOrOldValue);\n      thing.add(value);\n      break;\n\n    default:\n      thing[propOrOldValue] = value;\n  }\n}\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return hasMap && target instanceof Map;\n}\nfunction isSet(target) {\n  return hasSet && target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy || state.base;\n}\nfunction shallowCopy(base, invokeGetters) {\n  if (invokeGetters === void 0) {\n    invokeGetters = false;\n  }\n\n  if (Array.isArray(base)) { return base.slice(); }\n  var clone = Object.create(Object.getPrototypeOf(base));\n  ownKeys(base).forEach(function (key) {\n    if (key === DRAFT_STATE) {\n      return; // Never copy over draft state.\n    }\n\n    var desc = Object.getOwnPropertyDescriptor(base, key);\n    var value = desc.value;\n\n    if (desc.get) {\n      if (!invokeGetters) {\n        throw new Error(\"Immer drafts cannot have computed properties\");\n      }\n\n      value = desc.get.call(base);\n    }\n\n    if (desc.enumerable) {\n      clone[key] = value;\n    } else {\n      Object.defineProperty(clone, key, {\n        value: value,\n        writable: true,\n        configurable: true\n      });\n    }\n  });\n  return clone;\n}\nfunction freeze(obj, deep) {\n  if (!isDraftable(obj) || isDraft(obj) || Object.isFrozen(obj)) { return; }\n  var type = getArchtype(obj);\n\n  if (type === Archtype.Set) {\n    obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  } else if (type === Archtype.Map) {\n    obj.set = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n\n  Object.freeze(obj);\n  if (deep) { each(obj, function (_, value) {\n    return freeze(value, true);\n  }); }\n}\n\nfunction dontMutateFrozenCollections() {\n  throw new Error(\"This object has been frozen and should not be mutated\");\n}\n\nfunction createHiddenProperty(target, prop, value) {\n  Object.defineProperty(target, prop, {\n    value: value,\n    enumerable: false,\n    writable: true\n  });\n}\n/* istanbul ignore next */\n\nfunction die() {\n  throw new Error(\"Illegal state, please file a bug\");\n}\n\n/** Each scope represents a `produce` call. */\n\nvar ImmerScope =\n/** @class */\nfunction () {\n  function ImmerScope(parent, immer) {\n    this.drafts = [];\n    this.parent = parent;\n    this.immer = immer; // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n\n    this.canAutoFreeze = true;\n  }\n\n  ImmerScope.prototype.usePatches = function (patchListener) {\n    if (patchListener) {\n      this.patches = [];\n      this.inversePatches = [];\n      this.patchListener = patchListener;\n    }\n  };\n\n  ImmerScope.prototype.revoke = function () {\n    this.leave();\n    this.drafts.forEach(revoke); // @ts-ignore\n\n    this.drafts = null;\n  };\n\n  ImmerScope.prototype.leave = function () {\n    if (this === ImmerScope.current) {\n      ImmerScope.current = this.parent;\n    }\n  };\n\n  ImmerScope.enter = function (immer) {\n    var scope = new ImmerScope(ImmerScope.current, immer);\n    ImmerScope.current = scope;\n    return scope;\n  };\n\n  return ImmerScope;\n}();\n\nfunction revoke(draft) {\n  var state = draft[DRAFT_STATE];\n  if (state.type === ProxyType.ProxyObject || state.type === ProxyType.ProxyArray) { state.revoke(); }else { state.revoked = true; }\n}\n\nfunction processResult(immer, result, scope) {\n  var baseDraft = scope.drafts[0];\n  var isReplaced = result !== undefined && result !== baseDraft;\n  immer.willFinalize(scope, result, isReplaced);\n\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified) {\n      scope.revoke();\n      throw new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\"); // prettier-ignore\n    }\n\n    if (isDraftable(result)) {\n      // Finalize the result in case it contains (or is) a subset of the draft.\n      result = finalize(immer, result, scope);\n      maybeFreeze(immer, result);\n    }\n\n    if (scope.patches) {\n      scope.patches.push({\n        op: \"replace\",\n        path: [],\n        value: result\n      });\n      scope.inversePatches.push({\n        op: \"replace\",\n        path: [],\n        value: baseDraft[DRAFT_STATE].base\n      });\n    }\n  } else {\n    // Finalize the base draft.\n    result = finalize(immer, baseDraft, scope, []);\n  }\n\n  scope.revoke();\n\n  if (scope.patches) {\n    scope.patchListener(scope.patches, scope.inversePatches);\n  }\n\n  return result !== NOTHING ? result : undefined;\n}\n\nfunction finalize(immer, draft, scope, path) {\n  var state = draft[DRAFT_STATE];\n\n  if (!state) {\n    if (Object.isFrozen(draft)) { return draft; }\n    return finalizeTree(immer, draft, scope);\n  } // Never finalize drafts owned by another scope.\n\n\n  if (state.scope !== scope) {\n    return draft;\n  }\n\n  if (!state.modified) {\n    maybeFreeze(immer, state.base, true);\n    return state.base;\n  }\n\n  if (!state.finalized) {\n    state.finalized = true;\n    finalizeTree(immer, state.draft, scope, path); // We cannot really delete anything inside of a Set. We can only replace the whole Set.\n\n    if (immer.onDelete && state.type !== ProxyType.Set) {\n      // The `assigned` object is unreliable with ES5 drafts.\n      if (immer.useProxies) {\n        var assigned = state.assigned;\n        each(assigned, function (prop, exists) {\n          if (!exists) { immer.onDelete(state, prop); }\n        });\n      } else {\n        var base = state.base,\n            copy_1 = state.copy;\n        each(base, function (prop) {\n          if (!has(copy_1, prop)) { immer.onDelete(state, prop); }\n        });\n      }\n    }\n\n    if (immer.onCopy) {\n      immer.onCopy(state);\n    } // At this point, all descendants of `state.copy` have been finalized,\n    // so we can be sure that `scope.canAutoFreeze` is accurate.\n\n\n    if (immer.autoFreeze && scope.canAutoFreeze) {\n      freeze(state.copy, false);\n    }\n\n    if (path && scope.patches) {\n      generatePatches(state, path, scope.patches, scope.inversePatches);\n    }\n  }\n\n  return state.copy;\n}\n\nfunction finalizeTree(immer, root, scope, rootPath) {\n  var state = root[DRAFT_STATE];\n\n  if (state) {\n    if (state.type === ProxyType.ES5Object || state.type === ProxyType.ES5Array) {\n      // Create the final copy, with added keys and without deleted keys.\n      state.copy = shallowCopy(state.draft, true);\n    }\n\n    root = state.copy;\n  }\n\n  each(root, function (key, value) {\n    return finalizeProperty(immer, scope, root, state, root, key, value, rootPath);\n  });\n  return root;\n}\n\nfunction finalizeProperty(immer, scope, root, rootState, parentValue, prop, childValue, rootPath) {\n  if (childValue === parentValue) {\n    throw Error(\"Immer forbids circular references\");\n  } // In the `finalizeTree` method, only the `root` object may be a draft.\n\n\n  var isDraftProp = !!rootState && parentValue === root;\n  var isSetMember = isSet(parentValue);\n\n  if (isDraft(childValue)) {\n    var path = rootPath && isDraftProp && !isSetMember && // Set objects are atomic since they have no keys.\n    !has(rootState.assigned, prop) // Skip deep patches for assigned keys.\n    ? rootPath.concat(prop) : undefined; // Drafts owned by `scope` are finalized here.\n\n    childValue = finalize(immer, childValue, scope, path);\n    set(parentValue, prop, childValue); // Drafts from another scope must prevent auto-freezing.\n\n    if (isDraft(childValue)) {\n      scope.canAutoFreeze = false;\n    }\n  } // Unchanged draft properties are ignored.\n  else if (isDraftProp && is(childValue, get(rootState.base, prop))) {\n      return;\n    } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n    // TODO: the recursion over here looks weird, shouldn't non-draft stuff have it's own recursion?\n    // especially the passing on of root and rootState doesn't make sense...\n    else if (isDraftable(childValue) && !Object.isFrozen(childValue)) {\n        each(childValue, function (key, grandChild) {\n          return finalizeProperty(immer, scope, root, rootState, childValue, key, grandChild, rootPath);\n        });\n        maybeFreeze(immer, childValue);\n      }\n\n  if (isDraftProp && immer.onAssign && !isSetMember) {\n    immer.onAssign(rootState, prop, childValue);\n  }\n}\n\nfunction maybeFreeze(immer, value, deep) {\n  if (deep === void 0) {\n    deep = false;\n  }\n\n  if (immer.autoFreeze && !isDraft(value)) {\n    freeze(value, deep);\n  }\n}\n\n/**\r\n * Returns a new draft of the `base` object.\r\n *\r\n * The second argument is the parent draft-state (used internally).\r\n */\n\nfunction createProxy(base, parent) {\n  var isArray = Array.isArray(base);\n  var state = {\n    type: isArray ? ProxyType.ProxyArray : ProxyType.ProxyObject,\n    // Track which produce call this is associated with.\n    scope: parent ? parent.scope : ImmerScope.current,\n    // True for both shallow and deep changes.\n    modified: false,\n    // Used during finalization.\n    finalized: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned: {},\n    // The parent draft state.\n    parent: parent,\n    // The base state.\n    base: base,\n    // The base proxy.\n    draft: null,\n    // Any property proxies.\n    drafts: {},\n    // The base copy with any updated values.\n    copy: null,\n    // Called by the `produce` function.\n    revoke: null,\n    isManual: false\n  }; // the traps must target something, a bit like the 'real' base.\n  // but also, we need to be able to determine from the target what the relevant state is\n  // (to avoid creating traps per instance to capture the state in closure,\n  // and to avoid creating weird hidden properties as well)\n  // So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n  // Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\n  var target = state;\n  var traps = objectTraps;\n\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  } // TODO: optimization: might be faster, cheaper if we created a non-revocable proxy\n  // and administrate revoking ourselves\n\n\n  var _a = Proxy.revocable(target, traps),\n      revoke = _a.revoke,\n      proxy = _a.proxy;\n\n  state.draft = proxy;\n  state.revoke = revoke;\n  return proxy;\n}\n/**\r\n * Object drafts\r\n */\n\nvar objectTraps = {\n  get: function (state, prop) {\n    if (prop === DRAFT_STATE) { return state; }\n    var drafts = state.drafts; // Check for existing draft in unmodified state.\n\n    if (!state.modified && has(drafts, prop)) {\n      return drafts[prop];\n    }\n\n    var value = latest(state)[prop];\n\n    if (state.finalized || !isDraftable(value)) {\n      return value;\n    } // Check for existing draft in modified state.\n\n\n    if (state.modified) {\n      // Assigned values are never drafted. This catches any drafts we created, too.\n      if (value !== peek(state.base, prop)) { return value; } // Store drafts on the copy (when one exists).\n      // @ts-ignore\n\n      drafts = state.copy;\n    }\n\n    return drafts[prop] = state.scope.immer.createProxy(value, state);\n  },\n  has: function (state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys: function (state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set: function (state, prop\n  /* strictly not, but helps TS */\n  , value) {\n    if (!state.modified) {\n      var baseValue = peek(state.base, prop); // Optimize based on value's truthiness. Truthy values are guaranteed to\n      // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n      // values may be drafts, but falsy values are never drafts.\n\n      var isUnchanged = value ? is(baseValue, value) || value === state.drafts[prop] : is(baseValue, value) && prop in state.base;\n      if (isUnchanged) { return true; }\n      prepareCopy(state);\n      markChanged(state);\n    }\n\n    state.assigned[prop] = true; // @ts-ignore\n\n    state.copy[prop] = value;\n    return true;\n  },\n  deleteProperty: function (state, prop) {\n    // The `undefined` check is a fast path for pre-existing keys.\n    if (peek(state.base, prop) !== undefined || prop in state.base) {\n      state.assigned[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else if (state.assigned[prop]) {\n      // if an originally not assigned property was deleted\n      delete state.assigned[prop];\n    } // @ts-ignore\n\n\n    if (state.copy) { delete state.copy[prop]; }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor: function (state, prop) {\n    var owner = latest(state);\n    var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n\n    if (desc) {\n      desc.writable = true;\n      desc.configurable = state.type !== ProxyType.ProxyArray || prop !== \"length\";\n    }\n\n    return desc;\n  },\n  defineProperty: function () {\n    throw new Error(\"Object.defineProperty() cannot be used on an Immer draft\"); // prettier-ignore\n  },\n  getPrototypeOf: function (state) {\n    return Object.getPrototypeOf(state.base);\n  },\n  setPrototypeOf: function () {\n    throw new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\"); // prettier-ignore\n  }\n};\n/**\r\n * Array drafts\r\n */\n\nvar arrayTraps = {};\neach(objectTraps, function (key, fn) {\n  // @ts-ignore\n  arrayTraps[key] = function () {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\n\narrayTraps.deleteProperty = function (state, prop) {\n  if (isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports deleting array indices\"); // prettier-ignore\n  }\n\n  return objectTraps.deleteProperty.call(this, state[0], prop);\n};\n\narrayTraps.set = function (state, prop, value) {\n  if (prop !== \"length\" && isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports setting array indices and the 'length' property\"); // prettier-ignore\n  }\n\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\n/**\r\n * Map drafts\r\n */\n// Access a property without creating an Immer draft.\n\n\nfunction peek(draft, prop) {\n  var state = draft[DRAFT_STATE];\n  var desc = Reflect.getOwnPropertyDescriptor(state ? latest(state) : draft, prop);\n  return desc && desc.value;\n}\n\nfunction markChanged(state) {\n  if (!state.modified) {\n    state.modified = true;\n\n    if (state.type === ProxyType.ProxyObject || state.type === ProxyType.ProxyArray) {\n      var copy_1 = state.copy = shallowCopy(state.base);\n      each(state.drafts, function (key, value) {\n        // @ts-ignore\n        copy_1[key] = value;\n      });\n      state.drafts = undefined;\n    }\n\n    if (state.parent) {\n      markChanged(state.parent);\n    }\n  }\n}\n\nfunction prepareCopy(state) {\n  if (!state.copy) {\n    state.copy = shallowCopy(state.base);\n  }\n}\n\nfunction willFinalizeES5(scope, result, isReplaced) {\n  scope.drafts.forEach(function (draft) {\n    draft[DRAFT_STATE].finalizing = true;\n  });\n\n  if (!isReplaced) {\n    if (scope.patches) {\n      markChangesRecursively(scope.drafts[0]);\n    } // This is faster when we don't care about which attributes changed.\n\n\n    markChangesSweep(scope.drafts);\n  } // When a child draft is returned, look for changes.\n  else if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n      markChangesSweep(scope.drafts);\n    }\n}\nfunction createES5Proxy(base, parent) {\n  var isArray = Array.isArray(base);\n  var draft = clonePotentialDraft(base);\n  each(draft, function (prop) {\n    proxyProperty(draft, prop, isArray || isEnumerable(base, prop));\n  });\n  var state = {\n    type: isArray ? ProxyType.ES5Array : ProxyType.ES5Object,\n    scope: parent ? parent.scope : ImmerScope.current,\n    modified: false,\n    finalizing: false,\n    finalized: false,\n    assigned: {},\n    parent: parent,\n    base: base,\n    draft: draft,\n    copy: null,\n    revoked: false,\n    isManual: false\n  };\n  createHiddenProperty(draft, DRAFT_STATE, state);\n  return draft;\n} // Access a property without creating an Immer draft.\n\nfunction peek$1(draft, prop) {\n  var state = draft[DRAFT_STATE];\n\n  if (state && !state.finalizing) {\n    state.finalizing = true;\n    var value = draft[prop];\n    state.finalizing = false;\n    return value;\n  }\n\n  return draft[prop];\n}\n\nfunction get$1(state, prop) {\n  assertUnrevoked(state);\n  var value = peek$1(latest(state), prop);\n  if (state.finalizing) { return value; } // Create a draft if the value is unmodified.\n\n  if (value === peek$1(state.base, prop) && isDraftable(value)) {\n    prepareCopy$1(state); // @ts-ignore\n\n    return state.copy[prop] = state.scope.immer.createProxy(value, state);\n  }\n\n  return value;\n}\n\nfunction set$1(state, prop, value) {\n  assertUnrevoked(state);\n  state.assigned[prop] = true;\n\n  if (!state.modified) {\n    if (is(value, peek$1(latest(state), prop))) { return; }\n    markChangedES5(state);\n    prepareCopy$1(state);\n  } // @ts-ignore\n\n\n  state.copy[prop] = value;\n}\n\nfunction markChangedES5(state) {\n  if (!state.modified) {\n    state.modified = true;\n    if (state.parent) { markChangedES5(state.parent); }\n  }\n}\n\nfunction prepareCopy$1(state) {\n  if (!state.copy) { state.copy = clonePotentialDraft(state.base); }\n}\n\nfunction clonePotentialDraft(base) {\n  var state = base && base[DRAFT_STATE];\n\n  if (state) {\n    state.finalizing = true;\n    var draft = shallowCopy(state.draft, true);\n    state.finalizing = false;\n    return draft;\n  }\n\n  return shallowCopy(base);\n} // property descriptors are recycled to make sure we don't create a get and set closure per property,\n// but share them all instead\n\n\nvar descriptors = {};\n\nfunction proxyProperty(draft, prop, enumerable) {\n  var desc = descriptors[prop];\n\n  if (desc) {\n    desc.enumerable = enumerable;\n  } else {\n    descriptors[prop] = desc = {\n      configurable: true,\n      enumerable: enumerable,\n      get: function () {\n        return get$1(this[DRAFT_STATE], prop);\n      },\n      set: function (value) {\n        set$1(this[DRAFT_STATE], prop, value);\n      }\n    };\n  }\n\n  Object.defineProperty(draft, prop, desc);\n}\n\nfunction assertUnrevoked(state) {\n  if (state.revoked === true) { throw new Error(\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + JSON.stringify(latest(state))); }\n} // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\nfunction markChangesSweep(drafts) {\n  // The natural order of drafts in the `scope` array is based on when they\n  // were accessed. By processing drafts in reverse natural order, we have a\n  // better chance of processing leaf nodes first. When a leaf node is known to\n  // have changed, we can avoid any traversal of its ancestor nodes.\n  for (var i = drafts.length - 1; i >= 0; i--) {\n    var state = drafts[i][DRAFT_STATE];\n\n    if (!state.modified) {\n      switch (state.type) {\n        case ProxyType.ES5Array:\n          if (hasArrayChanges(state)) { markChangedES5(state); }\n          break;\n\n        case ProxyType.ES5Object:\n          if (hasObjectChanges(state)) { markChangedES5(state); }\n          break;\n      }\n    }\n  }\n}\n\nfunction markChangesRecursively(object) {\n  if (!object || typeof object !== \"object\") { return; }\n  var state = object[DRAFT_STATE];\n  if (!state) { return; }\n  var base = state.base,\n      draft = state.draft,\n      assigned = state.assigned,\n      type = state.type;\n\n  if (type === ProxyType.ES5Object) {\n    // Look for added keys.\n    // TODO: looks quite duplicate to hasObjectChanges,\n    // probably there is a faster way to detect changes, as sweep + recurse seems to do some\n    // unnecessary work.\n    // also: probably we can store the information we detect here, to speed up tree finalization!\n    each(draft, function (key) {\n      if (key === DRAFT_STATE) { return; } // The `undefined` check is a fast path for pre-existing keys.\n\n      if (base[key] === undefined && !has(base, key)) {\n        assigned[key] = true;\n        markChangedES5(state);\n      } else if (!assigned[key]) {\n        // Only untouched properties trigger recursion.\n        markChangesRecursively(draft[key]);\n      }\n    }); // Look for removed keys.\n\n    each(base, function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (draft[key] === undefined && !has(draft, key)) {\n        assigned[key] = false;\n        markChangedES5(state);\n      }\n    });\n  } else if (type === ProxyType.ES5Array && hasArrayChanges(state)) {\n    markChangedES5(state);\n    assigned.length = true;\n\n    if (draft.length < base.length) {\n      for (var i = draft.length; i < base.length; i++) { assigned[i] = false; }\n    } else {\n      for (var i = base.length; i < draft.length; i++) { assigned[i] = true; }\n    }\n\n    for (var i = 0; i < draft.length; i++) {\n      // Only untouched indices trigger recursion.\n      if (assigned[i] === undefined) { markChangesRecursively(draft[i]); }\n    }\n  }\n}\n\nfunction hasObjectChanges(state) {\n  var base = state.base,\n      draft = state.draft; // Search for added keys and changed keys. Start at the back, because\n  // non-numeric keys are ordered by time of definition on the object.\n\n  var keys = Object.keys(draft);\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var baseValue = base[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n    if (baseValue === undefined && !has(base, key)) {\n      return true;\n    } // Once a base key is deleted, future changes go undetected, because its\n    // descriptor is erased. This branch detects any missed changes.\n    else {\n        var value = draft[key];\n        var state_1 = value && value[DRAFT_STATE];\n\n        if (state_1 ? state_1.base !== baseValue : !is(value, baseValue)) {\n          return true;\n        }\n      }\n  } // At this point, no keys were added or changed.\n  // Compare key count to determine if keys were deleted.\n\n\n  return keys.length !== Object.keys(base).length;\n}\n\nfunction hasArrayChanges(state) {\n  var draft = state.draft;\n  if (draft.length !== state.base.length) { return true; } // See #116\n  // If we first shorten the length, our array interceptors will be removed.\n  // If after that new items are added, result in the same original length,\n  // those last items will have no intercepting property.\n  // So if there is no own descriptor on the last position, we know that items were removed and added\n  // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n  // the last one\n\n  var descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n  if (descriptor && !descriptor.get) { return true; } // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n  return false;\n}\n\nvar DraftMap = function (_super) {\n  if (!_super) {\n    /* istanbul ignore next */\n    throw new Error(\"Map is not polyfilled\");\n  }\n\n  __extends(DraftMap, _super); // Create class manually, cause #502\n\n\n  function DraftMap(target, parent) {\n    this[DRAFT_STATE] = {\n      type: ProxyType.Map,\n      parent: parent,\n      scope: parent ? parent.scope : ImmerScope.current,\n      modified: false,\n      finalized: false,\n      copy: undefined,\n      assigned: undefined,\n      base: target,\n      draft: this,\n      isManual: false,\n      revoked: false\n    };\n    return this;\n  }\n\n  var p = DraftMap.prototype; // TODO: smaller build size if we create a util for Object.defineProperty\n\n  Object.defineProperty(p, \"size\", {\n    get: function () {\n      return latest(this[DRAFT_STATE]).size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  p.has = function (key) {\n    return latest(this[DRAFT_STATE]).has(key);\n  };\n\n  p.set = function (key, value) {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n\n    if (latest(state).get(key) !== value) {\n      prepareCopy$2(state);\n      state.scope.immer.markChanged(state);\n      state.assigned.set(key, true);\n      state.copy.set(key, value);\n      state.assigned.set(key, true);\n    }\n\n    return this;\n  };\n\n  p.delete = function (key) {\n    if (!this.has(key)) {\n      return false;\n    }\n\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$2(state);\n    state.scope.immer.markChanged(state);\n    state.assigned.set(key, false);\n    state.copy.delete(key);\n    return true;\n  };\n\n  p.clear = function () {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$2(state);\n    state.scope.immer.markChanged(state);\n    state.assigned = new Map();\n    return state.copy.clear();\n  };\n\n  p.forEach = function (cb, thisArg) {\n    var _this = this;\n\n    var state = this[DRAFT_STATE];\n    latest(state).forEach(function (_value, key, _map) {\n      cb.call(thisArg, _this.get(key), key, _this);\n    });\n  };\n\n  p.get = function (key) {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    var value = latest(state).get(key);\n\n    if (state.finalized || !isDraftable(value)) {\n      return value;\n    }\n\n    if (value !== state.base.get(key)) {\n      return value; // either already drafted or reassigned\n    } // despite what it looks, this creates a draft only once, see above condition\n\n\n    var draft = state.scope.immer.createProxy(value, state);\n    prepareCopy$2(state);\n    state.copy.set(key, draft);\n    return draft;\n  };\n\n  p.keys = function () {\n    return latest(this[DRAFT_STATE]).keys();\n  };\n\n  p.values = function () {\n    var _a;\n\n    var _this = this;\n\n    var iterator = this.keys();\n    return _a = {}, _a[iteratorSymbol] = function () {\n      return _this.values();\n    }, _a.next = function () {\n      var r = iterator.next();\n      /* istanbul ignore next */\n\n      if (r.done) { return r; }\n\n      var value = _this.get(r.value);\n\n      return {\n        done: false,\n        value: value\n      };\n    }, _a;\n  };\n\n  p.entries = function () {\n    var _a;\n\n    var _this = this;\n\n    var iterator = this.keys();\n    return _a = {}, _a[iteratorSymbol] = function () {\n      return _this.entries();\n    }, _a.next = function () {\n      var r = iterator.next();\n      /* istanbul ignore next */\n\n      if (r.done) { return r; }\n\n      var value = _this.get(r.value);\n\n      return {\n        done: false,\n        value: [r.value, value]\n      };\n    }, _a;\n  };\n\n  p[iteratorSymbol] = function () {\n    return this.entries();\n  };\n\n  return DraftMap;\n}(Map);\n\nfunction proxyMap(target, parent) {\n  // @ts-ignore\n  return new DraftMap(target, parent);\n}\n\nfunction prepareCopy$2(state) {\n  if (!state.copy) {\n    state.assigned = new Map();\n    state.copy = new Map(state.base);\n  }\n}\n\nvar DraftSet = function (_super) {\n  if (!_super) {\n    /* istanbul ignore next */\n    throw new Error(\"Set is not polyfilled\");\n  }\n\n  __extends(DraftSet, _super); // Create class manually, cause #502\n\n\n  function DraftSet(target, parent) {\n    this[DRAFT_STATE] = {\n      type: ProxyType.Set,\n      parent: parent,\n      scope: parent ? parent.scope : ImmerScope.current,\n      modified: false,\n      finalized: false,\n      copy: undefined,\n      base: target,\n      draft: this,\n      drafts: new Map(),\n      revoked: false,\n      isManual: false\n    };\n    return this;\n  }\n\n  var p = DraftSet.prototype;\n  Object.defineProperty(p, \"size\", {\n    get: function () {\n      return latest(this[DRAFT_STATE]).size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  p.has = function (value) {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state); // bit of trickery here, to be able to recognize both the value, and the draft of its value\n\n    if (!state.copy) {\n      return state.base.has(value);\n    }\n\n    if (state.copy.has(value)) { return true; }\n    if (state.drafts.has(value) && state.copy.has(state.drafts.get(value))) { return true; }\n    return false;\n  };\n\n  p.add = function (value) {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n\n    if (state.copy) {\n      state.copy.add(value);\n    } else if (!state.base.has(value)) {\n      prepareCopy$3(state);\n      state.scope.immer.markChanged(state);\n      state.copy.add(value);\n    }\n\n    return this;\n  };\n\n  p.delete = function (value) {\n    if (!this.has(value)) {\n      return false;\n    }\n\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$3(state);\n    state.scope.immer.markChanged(state);\n    return state.copy.delete(value) || (state.drafts.has(value) ? state.copy.delete(state.drafts.get(value)) :\n    /* istanbul ignore next */\n    false);\n  };\n\n  p.clear = function () {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$3(state);\n    state.scope.immer.markChanged(state);\n    return state.copy.clear();\n  };\n\n  p.values = function () {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$3(state);\n    return state.copy.values();\n  };\n\n  p.entries = function entries() {\n    var state = this[DRAFT_STATE];\n    assertUnrevoked(state);\n    prepareCopy$3(state);\n    return state.copy.entries();\n  };\n\n  p.keys = function () {\n    return this.values();\n  };\n\n  p[iteratorSymbol] = function () {\n    return this.values();\n  };\n\n  p.forEach = function forEach(cb, thisArg) {\n    var iterator = this.values();\n    var result = iterator.next();\n\n    while (!result.done) {\n      cb.call(thisArg, result.value, result.value, this);\n      result = iterator.next();\n    }\n  };\n\n  return DraftSet;\n}(Set);\n\nfunction proxySet(target, parent) {\n  // @ts-ignore\n  return new DraftSet(target, parent);\n}\n\nfunction prepareCopy$3(state) {\n  if (!state.copy) {\n    // create drafts for all entries to preserve insertion order\n    state.copy = new Set();\n    state.base.forEach(function (value) {\n      if (isDraftable(value)) {\n        var draft = state.scope.immer.createProxy(value, state);\n        state.drafts.set(value, draft);\n        state.copy.add(draft);\n      } else {\n        state.copy.add(value);\n      }\n    });\n  }\n}\n\nfunction generatePatches(state, basePath, patches, inversePatches) {\n  switch (state.type) {\n    case ProxyType.ProxyObject:\n    case ProxyType.ES5Object:\n    case ProxyType.Map:\n      return generatePatchesFromAssigned(state, basePath, patches, inversePatches);\n\n    case ProxyType.ES5Array:\n    case ProxyType.ProxyArray:\n      return generateArrayPatches(state, basePath, patches, inversePatches);\n\n    case ProxyType.Set:\n      return generateSetPatches(state, basePath, patches, inversePatches);\n  }\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n  var _a, _b;\n\n  var base = state.base,\n      assigned = state.assigned,\n      copy = state.copy;\n  /* istanbul ignore next */\n\n  if (!copy) { die(); } // Reduce complexity by ensuring `base` is never longer.\n\n  if (copy.length < base.length) {\n    _a = [copy, base], base = _a[0], copy = _a[1];\n    _b = [inversePatches, patches], patches = _b[0], inversePatches = _b[1];\n  }\n\n  var delta = copy.length - base.length; // Find the first replaced index.\n\n  var start = 0;\n\n  while (base[start] === copy[start] && start < base.length) {\n    ++start;\n  } // Find the last replaced index. Search from the end to optimize splice patches.\n\n\n  var end = base.length;\n\n  while (end > start && base[end - 1] === copy[end + delta - 1]) {\n    --end;\n  } // Process replaced indices.\n\n\n  for (var i = start; i < end; ++i) {\n    if (assigned[i] && copy[i] !== base[i]) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"replace\",\n        path: path,\n        value: copy[i]\n      });\n      inversePatches.push({\n        op: \"replace\",\n        path: path,\n        value: base[i]\n      });\n    }\n  }\n\n  var replaceCount = patches.length; // Process added indices.\n\n  for (var i = end + delta - 1; i >= end; --i) {\n    var path = basePath.concat([i]);\n    patches[replaceCount + i - end] = {\n      op: \"add\",\n      path: path,\n      value: copy[i]\n    };\n    inversePatches.push({\n      op: \"remove\",\n      path: path\n    });\n  }\n} // This is used for both Map objects and normal objects.\n\n\nfunction generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n  var base = state.base,\n      copy = state.copy;\n  each(state.assigned, function (key, assignedValue) {\n    var origValue = get(base, key);\n    var value = get(copy, key);\n    var op = !assignedValue ? \"remove\" : has(base, key) ? \"replace\" : \"add\";\n    if (origValue === value && op === \"replace\") { return; }\n    var path = basePath.concat(key);\n    patches.push(op === \"remove\" ? {\n      op: op,\n      path: path\n    } : {\n      op: op,\n      path: path,\n      value: value\n    });\n    inversePatches.push(op === \"add\" ? {\n      op: \"remove\",\n      path: path\n    } : op === \"remove\" ? {\n      op: \"add\",\n      path: path,\n      value: origValue\n    } : {\n      op: \"replace\",\n      path: path,\n      value: origValue\n    });\n  });\n}\n\nfunction generateSetPatches(state, basePath, patches, inversePatches) {\n  var base = state.base,\n      copy = state.copy;\n  var i = 0;\n  base.forEach(function (value) {\n    if (!copy.has(value)) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"remove\",\n        path: path,\n        value: value\n      });\n      inversePatches.unshift({\n        op: \"add\",\n        path: path,\n        value: value\n      });\n    }\n\n    i++;\n  });\n  i = 0;\n  copy.forEach(function (value) {\n    if (!base.has(value)) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"add\",\n        path: path,\n        value: value\n      });\n      inversePatches.unshift({\n        op: \"remove\",\n        path: path,\n        value: value\n      });\n    }\n\n    i++;\n  });\n}\n\nfunction applyPatches(draft, patches) {\n  patches.forEach(function (patch) {\n    var path = patch.path,\n        op = patch.op;\n    /* istanbul ignore next */\n\n    if (!path.length) { die(); }\n    var base = draft;\n\n    for (var i = 0; i < path.length - 1; i++) {\n      base = get(base, path[i]);\n      if (!base || typeof base !== \"object\") { throw new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")); } // prettier-ignore\n    }\n\n    var type = getArchtype(base);\n    var value = deepClonePatchValue(patch.value); // used to clone patch to ensure original patch is not modified, see #411\n\n    var key = path[path.length - 1];\n\n    switch (op) {\n      case \"replace\":\n        switch (type) {\n          case Archtype.Map:\n            return base.set(key, value);\n\n          /* istanbul ignore next */\n\n          case Archtype.Set:\n            throw new Error('Sets cannot have \"replace\" patches.');\n\n          default:\n            // if value is an object, then it's assigned by reference\n            // in the following add or remove ops, the value field inside the patch will also be modifyed\n            // so we use value from the cloned patch\n            // @ts-ignore\n            return base[key] = value;\n        }\n\n      case \"add\":\n        switch (type) {\n          case Archtype.Array:\n            return base.splice(key, 0, value);\n\n          case Archtype.Map:\n            return base.set(key, value);\n\n          case Archtype.Set:\n            return base.add(value);\n\n          default:\n            return base[key] = value;\n        }\n\n      case \"remove\":\n        switch (type) {\n          case Archtype.Array:\n            return base.splice(key, 1);\n\n          case Archtype.Map:\n            return base.delete(key);\n\n          case Archtype.Set:\n            return base.delete(patch.value);\n\n          default:\n            return delete base[key];\n        }\n\n      default:\n        throw new Error(\"Unsupported patch operation: \" + op);\n    }\n  });\n  return draft;\n}\n\nfunction deepClonePatchValue(obj) {\n  if (!obj || typeof obj !== \"object\") { return obj; }\n  if (Array.isArray(obj)) { return obj.map(deepClonePatchValue); }\n  if (isMap(obj)) { return new Map(Array.from(obj.entries()).map(function (_a) {\n    var k = _a[0],\n        v = _a[1];\n    return [k, deepClonePatchValue(v)];\n  })); } // Not needed: if (isSet(obj)) return new Set(Array.from(obj.values()).map(deepClone))\n\n  var cloned = Object.create(Object.getPrototypeOf(obj));\n\n  for (var key in obj) { cloned[key] = deepClonePatchValue(obj[key]); }\n\n  return cloned;\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/* istanbul ignore next */\n\nfunction verifyMinified() {}\n\nvar configDefaults = {\n  useProxies: typeof Proxy !== \"undefined\" && typeof Proxy.revocable !== \"undefined\" && typeof Reflect !== \"undefined\",\n  autoFreeze: typeof process !== \"undefined\" ? process.env.NODE_ENV !== \"production\" :\n  /* istanbul ignore next */\n  verifyMinified.name === \"verifyMinified\",\n  onAssign: null,\n  onDelete: null,\n  onCopy: null\n};\n\nvar Immer =\n/** @class */\nfunction () {\n  function Immer(config) {\n    var _this = this;\n\n    this.useProxies = false;\n    this.autoFreeze = false;\n    each(configDefaults, function (key, value) {\n      var _a, _b; // @ts-ignore\n\n\n      _this[key] = (_b = (_a = config) === null || _a === void 0 ? void 0 : _a[key], _b !== null && _b !== void 0 ? _b : value);\n    });\n    this.setUseProxies(this.useProxies);\n    this.produce = this.produce.bind(this);\n    this.produceWithPatches = this.produceWithPatches.bind(this);\n  }\n  /**\r\n   * The `produce` function takes a value and a \"recipe function\" (whose\r\n   * return value often depends on the base state). The recipe function is\r\n   * free to mutate its first argument however it wants. All mutations are\r\n   * only ever applied to a __copy__ of the base state.\r\n   *\r\n   * Pass only a function to create a \"curried producer\" which relieves you\r\n   * from passing the recipe function every time.\r\n   *\r\n   * Only plain objects and arrays are made mutable. All other objects are\r\n   * considered uncopyable.\r\n   *\r\n   * Note: This function is __bound__ to its `Immer` instance.\r\n   *\r\n   * @param {any} base - the initial state\r\n   * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n   * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n   * @returns {any} a new state, or the initial state if nothing was modified\r\n   */\n\n\n  Immer.prototype.produce = function (base, recipe, patchListener) {\n    var _this = this; // curried invocation\n\n\n    if (typeof base === \"function\" && typeof recipe !== \"function\") {\n      var defaultBase_1 = recipe;\n      recipe = base;\n      var self_1 = this;\n      return function curriedProduce(base) {\n        var arguments$1 = arguments;\n\n        var _this = this;\n\n        if (base === void 0) {\n          base = defaultBase_1;\n        }\n\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments$1[_i];\n        }\n\n        return self_1.produce(base, function (draft) {\n          return recipe.call.apply(recipe, __spreadArrays([_this, draft], args));\n        }); // prettier-ignore\n      };\n    } // prettier-ignore\n\n\n    {\n      if (typeof recipe !== \"function\") {\n        throw new Error(\"The first or second argument to `produce` must be a function\");\n      }\n\n      if (patchListener !== undefined && typeof patchListener !== \"function\") {\n        throw new Error(\"The third argument to `produce` must be a function or undefined\");\n      }\n    }\n    var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n    if (isDraftable(base)) {\n      var scope_1 = ImmerScope.enter(this);\n      var proxy = this.createProxy(base, undefined);\n      var hasError = true;\n\n      try {\n        result = recipe(proxy);\n        hasError = false;\n      } finally {\n        // finally instead of catch + rethrow better preserves original stack\n        if (hasError) { scope_1.revoke(); }else { scope_1.leave(); }\n      }\n\n      if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n        return result.then(function (result) {\n          scope_1.usePatches(patchListener);\n          return processResult(_this, result, scope_1);\n        }, function (error) {\n          scope_1.revoke();\n          throw error;\n        });\n      }\n\n      scope_1.usePatches(patchListener);\n      return processResult(this, result, scope_1);\n    } else {\n      result = recipe(base);\n      if (result === NOTHING) { return undefined; }\n      if (result === undefined) { result = base; }\n      maybeFreeze(this, result, true);\n      return result;\n    }\n  };\n\n  Immer.prototype.produceWithPatches = function (arg1, arg2, arg3) {\n    var _this = this;\n\n    if (typeof arg1 === \"function\") {\n      return function (state) {\n        var arguments$1 = arguments;\n\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments$1[_i];\n        }\n\n        return _this.produceWithPatches(state, function (draft) {\n          return arg1.apply(void 0, __spreadArrays([draft], args));\n        });\n      };\n    } // non-curried form\n\n    /* istanbul ignore next */\n\n\n    if (arg3) { die(); }\n    var patches, inversePatches;\n    var nextState = this.produce(arg1, arg2, function (p, ip) {\n      patches = p;\n      inversePatches = ip;\n    });\n    return [nextState, patches, inversePatches];\n  };\n\n  Immer.prototype.createDraft = function (base) {\n    if (!isDraftable(base)) {\n      throw new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\"); // prettier-ignore\n    }\n\n    var scope = ImmerScope.enter(this);\n    var proxy = this.createProxy(base, undefined);\n    proxy[DRAFT_STATE].isManual = true;\n    scope.leave();\n    return proxy;\n  };\n\n  Immer.prototype.finishDraft = function (draft, patchListener) {\n    var state = draft && draft[DRAFT_STATE];\n\n    if (!state || !state.isManual) {\n      throw new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\"); // prettier-ignore\n    }\n\n    if (state.finalized) {\n      throw new Error(\"The given draft is already finalized\"); // prettier-ignore\n    }\n\n    var scope = state.scope;\n    scope.usePatches(patchListener);\n    return processResult(this, undefined, scope);\n  };\n  /**\r\n   * Pass true to automatically freeze all copies created by Immer.\r\n   *\r\n   * By default, auto-freezing is disabled in production.\r\n   */\n\n\n  Immer.prototype.setAutoFreeze = function (value) {\n    this.autoFreeze = value;\n  };\n  /**\r\n   * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n   * always faster than using ES5 proxies.\r\n   *\r\n   * By default, feature detection is used, so calling this is rarely necessary.\r\n   */\n\n\n  Immer.prototype.setUseProxies = function (value) {\n    this.useProxies = value;\n  };\n\n  Immer.prototype.applyPatches = function (base, patches) {\n    // If a patch replaces the entire state, take that replacement as base\n    // before applying patches\n    var i;\n\n    for (i = patches.length - 1; i >= 0; i--) {\n      var patch = patches[i];\n\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n\n    if (isDraft(base)) {\n      // N.B: never hits if some patch a replacement, patches are never drafts\n      return applyPatches(base, patches);\n    } // Otherwise, produce a copy of the base state.\n\n\n    return this.produce(base, function (draft) {\n      return applyPatches(draft, patches.slice(i + 1));\n    });\n  };\n\n  Immer.prototype.createProxy = function (value, parent) {\n    // precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n    var draft = isMap(value) ? proxyMap(value, parent) : isSet(value) ? proxySet(value, parent) : this.useProxies ? createProxy(value, parent) : createES5Proxy(value, parent);\n    var scope = parent ? parent.scope : ImmerScope.current;\n    scope.drafts.push(draft);\n    return draft;\n  };\n\n  Immer.prototype.willFinalize = function (scope, thing, isReplaced) {\n    if (!this.useProxies) { willFinalizeES5(scope, thing, isReplaced); }\n  };\n\n  Immer.prototype.markChanged = function (state) {\n    if (this.useProxies) {\n      markChanged(state);\n    } else {\n      markChangedES5(state);\n    }\n  };\n\n  return Immer;\n}();\n\nvar immer = new Immer();\n/**\r\n * The `produce` function takes a value and a \"recipe function\" (whose\r\n * return value often depends on the base state). The recipe function is\r\n * free to mutate its first argument however it wants. All mutations are\r\n * only ever applied to a __copy__ of the base state.\r\n *\r\n * Pass only a function to create a \"curried producer\" which relieves you\r\n * from passing the recipe function every time.\r\n *\r\n * Only plain objects and arrays are made mutable. All other objects are\r\n * considered uncopyable.\r\n *\r\n * Note: This function is __bound__ to its `Immer` instance.\r\n *\r\n * @param {any} base - the initial state\r\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n * @returns {any} a new state, or the initial state if nothing was modified\r\n */\n\nvar produce = immer.produce;\n/**\r\n * Like `produce`, but `produceWithPatches` always returns a tuple\r\n * [nextState, patches, inversePatches] (instead of just the next state)\r\n */\n\nvar produceWithPatches = immer.produceWithPatches.bind(immer);\n/**\r\n * Pass true to automatically freeze all copies created by Immer.\r\n *\r\n * By default, auto-freezing is disabled in production.\r\n */\n\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\n/**\r\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n * always faster than using ES5 proxies.\r\n *\r\n * By default, feature detection is used, so calling this is rarely necessary.\r\n */\n\nvar setUseProxies = immer.setUseProxies.bind(immer);\n/**\r\n * Apply an array of Immer patches to the first argument.\r\n *\r\n * This function is a producer, which means copy-on-write is in effect.\r\n */\n\nvar applyPatches$1 = immer.applyPatches.bind(immer);\n/**\r\n * Create an Immer draft from the given base state, which may be a draft itself.\r\n * The draft can be modified until you finalize it with the `finishDraft` function.\r\n */\n\nvar createDraft = immer.createDraft.bind(immer);\n/**\r\n * Finalize an Immer draft from a `createDraft` call, returning the base state\r\n * (if no changes were made) or a modified copy. The draft must *not* be\r\n * mutated afterwards.\r\n *\r\n * Pass a function as the 2nd argument to generate Immer patches based on the\r\n * changes that were made.\r\n */\n\nvar finishDraft = immer.finishDraft.bind(immer);\n/**\r\n * This function is actually a no-op, but can be used to cast an immutable type\r\n * to an draft type and make TypeScript happy\r\n *\r\n * @param value\r\n */\n\nfunction castDraft(value) {\n  return value;\n}\n/**\r\n * This function is actually a no-op, but can be used to cast a mutable type\r\n * to an immutable type and make TypeScript happy\r\n * @param value\r\n */\n\nfunction castImmutable(value) {\n  return value;\n}\n\nexport default produce;\nexport { Immer, applyPatches$1 as applyPatches, castDraft, castImmutable, createDraft, finishDraft, DRAFTABLE as immerable, isDraft, isDraftable, NOTHING as nothing, original, produce, produceWithPatches, setAutoFreeze, setUseProxies };\n//# sourceMappingURL=immer.module.js.map\n","import { produce } from 'produce';\nimport { IGetState } from './state';\n\ninterface IInsertFtrPayload {\n  compId: string;\n  ftrId: string;\n  parentFtrId: string;\n}\n\nexport function insertFtr(getState: IGetState, _payload: IInsertFtrPayload) {\n  return produce(getState(), (_draftState) => {\n    //\n  });\n}\n\nexport function updateEnterFtr(getState: IGetState, ftrId: string) {\n  return {\n    ...getState(),\n    enterFtrId: ftrId\n  };\n}\n","import { RootCompId, RootFtrId } from '@/components/root';\nexport type IState = ReturnType<typeof createInitState>;\nexport type IGetState = () => ReturnType<typeof createInitState>;\n\nexport function createInitState() {\n  return {\n    enterFtrId: null as string | null,\n    root: {\n      compId: RootCompId,\n      ftrId: RootFtrId,\n      children: []\n    } as IGrag.INode\n  };\n}\n","import { IReducers, Store } from './createStore';\n\nexport type IEnhancer = ReturnType<typeof applyMiddleware>;\n\ninterface ITypePayload {\n  type: string;\n  [p: string]: any;\n}\n\ntype IMiddleware = <S>\n  (store: Store<S, IReducers<S>>)\n  => (next: (mutation: ITypePayload) => S)\n    => (mutation: ITypePayload) => S;\n\nexport function applyMiddleware(...middlewares: IMiddleware[]) {\n  return (store: Store<any, any>) => {\n    const mutationChain = middlewares.map((middleware) => middleware(store));\n\n    if (mutationChain.length < 1) {\n      return store.dispatch;\n    }\n\n    const dispatch = store.dispatch;\n\n    const middledispatch: ReturnType<ReturnType<IMiddleware>> = (param) => {\n      const { type, payload } = param;\n      dispatch(type, payload);\n      return store.getState();\n    };\n\n    if (mutationChain.length === 1) {\n      return (type: any, payload: any) => mutationChain[0]((action) => middledispatch(action))({ type, payload });\n    } else {\n      return (type: any, payload: any) => mutationChain.reduce((a, b) => (...args) => a(b(...args)))((action) => middledispatch(action))({ type, payload });\n    }\n  };\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import { applyMiddleware, IEnhancer } from './applyMiddleware';\n\ninterface IKeyValue<T> {\n  [p: string]: T;\n}\n\ntype IAction<S> = (getState: () => S, payload: any) => S;\n\nexport type IReducers<S> = IKeyValue<IAction<S>>;\n\ninterface IContext<S, R extends IReducers<S>> {\n  getState: () => S;\n  getLastState: () => S;\n  dispatch: IDispatch<S, R>;\n}\n\nexport type IDispatch<S, R extends IReducers<S>> = <K extends keyof R>(action: K, payload?: Parameters<R[K]>[1]) => void;\n\nexport class Store<S, R extends IReducers<S>>  {\n  public context: IContext<S, R>;\n  private state: S;\n  private lastState: S;\n  private actions: R;\n  private listeners: Array<() => any> = [];\n\n  constructor(preloadedState: S, reducers: R, enhancer: IEnhancer) {\n    this.state = this.lastState = preloadedState;\n    this.actions = reducers;\n\n    this.dispatch = this.dispatch.bind(this);\n    this.getState = this.getState.bind(this);\n    this.getLastState = this.getLastState.bind(this);\n\n    this.context = {\n      getState: this.getState,\n      getLastState: this.getLastState,\n      dispatch: this.dispatch\n    };\n\n    const dispatch = enhancer(this);\n    this.context.dispatch = this.dispatch = dispatch.bind(this);\n  }\n\n  public dispatch: IDispatch<S, R> = (action, payload) => {\n    if (typeof action !== 'string') {\n      return this.adapterReduxDispatch(action as any);\n    }\n\n    const act = this.actions[action];\n    if (!act) {\n      return;\n    }\n\n    this.lastState = this.state;\n    this.state = act(this.getState, payload);\n    this.notify();\n  }\n\n  public subscribe(listener: () => any) {\n    this.listeners.push(listener);\n    return () => this.unSubscribe(listener);\n  }\n\n  public unSubscribe(listener: () => any) {\n    const index = this.listeners.indexOf(listener);\n    if (index !== -1) {\n      this.listeners.splice(index, 1);\n    }\n  }\n\n  public getState() {\n    return this.state;\n  }\n\n  public getLastState() {\n    return this.lastState;\n  }\n\n  private notify() {\n    this.listeners.forEach((callback) => {\n      callback();\n    });\n  }\n\n  private adapterReduxDispatch(action: any) {\n    if (Object.prototype.toString.apply(action) === '[object Object]') {\n      const { type, ...data } = action as any;\n      typeof type !== 'undefined' && this.dispatch(type, data);\n    }\n  }\n}\n\nexport function createStore<\n  S,\n  R extends IReducers<S>\n>(preloadedState: S, reducers: R, enhancer: IEnhancer = applyMiddleware()) {\n  return new Store(preloadedState, reducers, enhancer);\n}\n","export function shallowEqual(objA: any, objB: any) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  // tslint:disable-next-line:prefer-for-of\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction is(x: any, y: any) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n","import * as React from 'react';\nimport { Store } from './createStore';\nimport { shallowEqual } from './shallowEqual';\n\nexport type IMappedStateFunc<S, R> = (state: S) => R;\n\nexport function createUseMappedState<S>(store: Store<S, any>) {\n  return function useMappedState<R>(mappedState: IMappedStateFunc<S, R>) {\n    const savedMappedState = React.useRef(mappedState);\n    const [state, setState] = React.useState(savedMappedState.current(store.getState()));\n    const lastState = React.useRef(state);\n\n    const update = React.useCallback(() => {\n      const nextState = savedMappedState.current(store.getState());\n      if (!shallowEqual(nextState, lastState.current)) {\n        setState(nextState);\n      }\n      lastState.current = nextState;\n    }, []);\n\n    React.useEffect(() => {\n      savedMappedState.current = mappedState;\n      update();\n    }, [mappedState]);\n\n    React.useEffect(() => {\n      const unSubscribe = store.subscribe(update);\n      return () => unSubscribe();\n    }, []);\n\n    return state;\n  };\n}\n","import { Context } from '@/components/provider';\nimport { EventMonitor, IEvtEmit } from '@/eventMonitor';\nimport { useListener } from '@/hooks/useListener';\nimport { useMount } from '@/hooks/useMount';\nimport { renderTree } from '@/lib/renderTree';\nimport { IUseMappedState } from '@/store';\nimport * as reducers from '@/store/reducer';\nimport { createInitState } from '@/store/state';\nimport React from 'react';\nimport { createStore, createUseMappedState } from 'typeRedux';\n\nexport interface IRawCanvasProps extends Omit<React.Props<any>, 'children'>, ICanvasProps {\n  evtEmit: IEvtEmit;\n  useMappedState: IUseMappedState;\n  id2CompMap: IGrag.IId2CompMap;\n}\n\ninterface ICanvasProps {\n  style?: React.CSSProperties;\n  className?: string;\n}\n\n// const tree: IGrag.INode = {\n//   component: (props: any) => <div style={{ width: '100%', height: '100%' }}>root{props.children}</div>,\n//   children: [{\n//     component: (props: any) => {\n//       return <div style={{ width: 300, height: 300, border: '1px solid #000' }}>1{props.children}</div>;\n//     },\n//     children: [\n//       {\n//         component: (props: any) => {\n//           return <div style={{ width: 200, height: 200, border: '1px solid red' }}>2{props.children}</div>;\n//         },\n//         children: []\n//       }\n//     ]\n//   }, {\n//     component: (props: any) => {\n//       return <div style={{ width: 300, height: 300, border: '1px solid #000' }}>3{props.children}</div>;\n//     },\n//     children: []\n//   }]\n// };\n\nfunction RawCanvas(props: IRawCanvasProps) {\n  const { evtEmit, style, className, useMappedState } = props;\n  const root = useMappedState((p) => p.root);\n  const domRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n  const [registerChildDom, childDomReady] = useListener();\n  const [registerMyDomMount, myDomMount] = useListener();\n  const observer = React.useRef(new MutationObserver((records) => {\n    const node: any = records[0].addedNodes[0];\n    childDomReady(node, 0);\n  }));\n\n  useMount(() => {\n    function handleCanvasMousemmove(e: Event) {\n      e.stopPropagation();\n      evtEmit('canvasMousemove', null);\n    }\n    if (domRef.current) {\n      observer.current.observe(domRef.current, {\n        childList: true\n      });\n      domRef.current.addEventListener('mousemove', handleCanvasMousemmove, true);\n      myDomMount(true);\n    }\n    return () => {\n      observer.current.disconnect();\n      domRef.current?.removeEventListener('mousemove', handleCanvasMousemmove, true);\n    };\n  });\n\n  return (\n    <div ref={domRef} style={style} className={className} >\n      {\n        renderTree({\n          root,\n          id2CompMap: props.id2CompMap,\n          ftrCtx: { useMappedState, evtEmit },\n          captureDomParams: {\n            idx: 0,\n            registerParentMount: registerMyDomMount,\n            parentIsMount: !!domRef.current,\n            registerChildDom\n          }\n        })\n      }\n    </div>\n  );\n}\n\nexport function Canvas(props: ICanvasProps) {\n  const storeRef = React.useRef(createStore(createInitState(), reducers));\n  const browserEvtMonitor = React.useRef(new EventMonitor(storeRef.current.dispatch));\n  const useMappedStateRef = React.useRef(createUseMappedState(storeRef.current));\n  const { id2CompMap } = React.useContext(Context);\n\n  return (\n    <RawCanvas\n      evtEmit={browserEvtMonitor.current.emit}\n      useMappedState={useMappedStateRef.current}\n      id2CompMap={id2CompMap}\n      {...props}\n    />\n  );\n}\n","import { Context } from '@/components/provider';\nimport { ItemTypes } from '@/lib/itemTypes';\nimport { uuid } from '@/lib/uuid';\nimport { DragElementWrapper, DragSourceOptions, useDrag } from 'dnd';\nimport * as React from 'react';\n\ninterface IProps extends React.Props<any> {\n  component: IGrag.ICompFcClass;\n  id?: string;\n  children: (ref: DragElementWrapper<DragSourceOptions>) => React.ReactNode;\n}\n\nexport interface IDragItem {\n  type: string;\n  compId: string;\n}\n\nexport function Feature(props: IProps) {\n  const { id2CompMap } = React.useContext(Context);\n  let id = props.id ?? uuid();\n  while (id2CompMap[id]) {\n    id = uuid();\n  }\n  id2CompMap[id] = props.component;\n  const [, drag] = useDrag({\n    item: { type: ItemTypes.CANVAS, compId: id } as IDragItem\n  });\n  return props.children(drag) as React.ReactElement;\n}\n","import * as React from 'react';\nimport { Canvas, Feature, GragProvider } from '../../../src';\n\nexport function App() {\n  return (\n    <GragProvider>\n      <div className='comp-bar'>\n        <FtrFunc />\n        <FtrClass />\n        <FtrBox />\n      </div>\n      <Canvas className='border' />\n    </GragProvider>\n  );\n}\n\nfunction FtrFunc() {\n  return (\n    <Feature component={Table}>\n      {(ref) => <div ref={ref} className='preview'>Func组件</div>}\n    </Feature>\n  );\n}\n\nfunction FtrClass() {\n  return (\n    <Feature component={Select}>\n      {(ref) => <div ref={ref} className='preview'>Class组件</div>}\n    </Feature>\n  );\n}\n\nfunction FtrBox() {\n  return (\n    <Feature component={Box}>\n      {(ref) => <div ref={ref} className='preview'>Box</div>}\n    </Feature>\n  );\n}\n\nclass Select extends React.Component {\n  public render() {\n    return (\n      <select style={{ width: '60px', height: '30px' }}>\n        <option>opt1</option>\n        <option>opt2</option>\n        <option>opt3</option>\n      </select>\n    );\n  }\n}\n\nfunction Box(props: React.Props<any>) {\n  return (\n    <div style={{ border: '1px solid #000', width: 150, height: 150 }}>\n      {props.children}\n    </div>\n  );\n}\n\nfunction Table() {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th colSpan={2}>The table header</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>The table body</td>\n          <td>with two columns</td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { App } from './app';\n\nReactDOM.render(\n  React.createElement(App),\n  document.getElementById('root')\n);\n"],"names":["assertThisInitialized","setPrototypeOf","arrayWithHoles","iterableToArrayLimit","nonIterableRest","React.createElement","ponyfill","$$observable","_typeof","_typeof2","_defineProperty","verifyInvariants","ownKeys","_objectSpread","initialState","_classCallCheck","_defineProperties","_createClass","getSourceClientOffset","_getSourceClientOffset","getDifferenceFromInitialOffset","_getDifferenceFromInitialOffset","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","addSource","_addSource","addTarget","_addTarget","removeSource","_removeSource","removeTarget","_removeTarget","reducer","dragDropActions","React.createContext","refCount","memo","React.useEffect","useLayoutEffect","useEffect","useState","useCallback","useContext","cloneElement","isValidElement","useMemo","useRef","without","NativeTypes.FILE","NativeTypes.URL","NativeTypes.TEXT","backend","React","arrayWithoutHoles","iterableToArray","nonIterableSpread","React.useRef","React.useCallback","React.useLayoutEffect","React.useState","React.memo","isPlainObject","get","get$1","_objectWithoutPropertiesLoose","_objectWithoutProperties","objectWithoutPropertiesLoose","createStore","shallowEqual","is","React.useContext","React.Component","ReactDOM.render"],"mappings":"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"}