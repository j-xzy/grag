{"version":3,"file":"grag.esm.js","sources":["../src/board/index.tsx","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","../node_modules/@react-dnd/invariant/dist/invariant.esm.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/factories.js","../node_modules/react-dnd/dist/esm/common/DndContext.js","../node_modules/react-dnd/dist/esm/common/DndProvider.js","../node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js","../node_modules/@react-dnd/shallowequal/dist/shallowequal.esm.js","../node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/hooks/internal/useDragDropManager.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/internal/drag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag.js","../src/itemTypes/index.ts","../src/feature/index.tsx","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../src/provider/index.tsx"],"sourcesContent":["import React from 'react';\n\nexport function Board() {\n  return (\n    <div>\n    </div>\n  );\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","export default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nexport { invariant };\n//# sourceMappingURL=invariant.esm.js.map\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    return map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport default function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport default function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export default function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport matchesType from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport default function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport default function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread({}, options, {}, dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport default function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n    var source = registry.getSource(sourceId, true);\n    source.endDrag(monitor, sourceId);\n    registry.unpinSource();\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","import createBeginDrag from './beginDrag';\nimport createPublishDragSource from './publishDragSource';\nimport createHover from './hover';\nimport createDrop from './drop';\nimport createEndDrag from './endDrag';\nexport * from './types';\nexport default function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport default function dragOffset() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport default function dragOperation() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread({}, state, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread({}, state, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread({}, state, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread({}, state, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport default function refCount() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport default function dirtyHandlerIds() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export default function stateId() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dragOffset from './dragOffset';\nimport dragOperation from './dragOperation';\nimport refCount from './refCount';\nimport dirtyHandlerIds from './dirtyHandlerIds';\nimport stateId from './stateId';\nimport { get } from '../utils/js_utils';\nexport default function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread({}, action.payload, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport matchesType from './utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from './utils/coords';\nimport { areDirty } from './utils/dirtiness';\n\nvar DragDropMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, 'Expected to find a valid target.');\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.store.getState().dragOperation.isSourcePublic;\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nexport { DragDropMonitorImpl as default };","var nextUniqueId = 0;\nexport default function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from './actions/registry';\nimport getNextUniqueId from './utils/getNextUniqueId';\nimport { HandlerRole } from './interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from './contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl =\n/*#__PURE__*/\nfunction () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nexport { HandlerRegistryImpl as default };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createStore } from 'redux';\nimport reducer from './reducers';\nimport dragDropActions from './actions/dragDrop';\nimport DragDropMonitorImpl from './DragDropMonitorImpl';\nimport HandlerRegistryImpl from './HandlerRegistryImpl';\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reducer, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar DragDropManagerImpl =\n/*#__PURE__*/\nfunction () {\n  function DragDropManagerImpl() {\n    var _this = this;\n\n    var debugMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    var store = makeStoreInstance(debugMode);\n    this.store = store;\n    this.monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = dragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n\nexport { DragDropManagerImpl as default };","import DragDropManagerImpl from './DragDropManagerImpl';\nexport function createDragDropManager(backendFactory, globalContext, backendOptions, debugMode) {\n  var manager = new DragDropManagerImpl(debugMode);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}","import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { shallowEqual };\n//# sourceMappingURL=shallowequal.esm.js.map\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../../common/DndContext';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector =\n/*#__PURE__*/\nfunction () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","export const ItemTypes = {\n  BOARD: 'board'\n}","import * as React from 'react';\nimport { DragElementWrapper, DragSourceOptions, useDrag } from 'react-dnd';\nimport { ItemTypes } from '../itemTypes';\n\ninterface IProps extends React.Props<any> {\n  component: React.ReactNode;\n  children: (ref: DragElementWrapper<DragSourceOptions>) => React.ReactNode;\n}\n\nexport function Feature(props: IProps) {\n  const [, drag] = useDrag({\n    item: { type: ItemTypes.BOARD, component: props.component }\n  });\n\n  return props.children(drag) as React.ReactElement;\n}\n","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\n\nvar EnterLeaveCounter =\n/*#__PURE__*/\nfunction () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nexport { EnterLeaveCounter as default };","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MonotonicInterpolant =\n/*#__PURE__*/\nfunction () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nexport { MonotonicInterpolant as default };","import { isSafari, isFirefox } from './BrowserDetector';\nimport MonotonicInterpolant from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource =\n/*#__PURE__*/\nfunction () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","import HTML5Backend from './HTML5Backend';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\n\nvar createBackend = function createBackend(manager, context) {\n  return new HTML5Backend(manager, context);\n};\n\nexport default createBackend;","import React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport Backend from 'react-dnd-html5-backend';\n\nexport function BoradProvider(props: React.Props<any>) {\n  return (\n    <DndProvider backend={Backend}>\n      {props.children}\n    </DndProvider>\n  );\n}\n"],"names":["React","arrayWithHoles","iterableToArrayLimit","nonIterableRest","ponyfill","$$observable","_typeof","_typeof2","verifyInvariants","ownKeys","_objectSpread","_defineProperty","initialState","getSourceClientOffset","_getSourceClientOffset","getDifferenceFromInitialOffset","_getDifferenceFromInitialOffset","_classCallCheck","_defineProperties","_createClass","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","addSource","_addSource","addTarget","_addTarget","removeSource","_removeSource","removeTarget","_removeTarget","reducer","dragDropActions","React.createContext","refCount","React.useEffect","React.createElement","without","NativeTypes.FILE","NativeTypes.URL","NativeTypes.TEXT","Backend"],"mappings":"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"}